{"version":3,"sources":["services/api.js","services/storage.js","components/CharacterCard.js","components/CharacterList.js","components/NameFilter.js","components/SpecieFilter.js","components/CharacterDetail.js","components/Warning.js","components/App.js","index.js"],"names":["getApiData","fetch","then","res","json","data","results","map","character","id","name","image","specie","species","status","location","episodes","episode","length","localObject","get","key","defaultData","JSON","parse","localStorage","getItem","set","setItem","stringify","CharacterCard","props","to","className","src","alt","CharacterList","renderCharacters","characters","NameFilter","htmlFor","type","placeholder","value","onChange","ev","preventDefault","handleFilter","target","SpecieFilter","CharacterDetail","title","Warning","App","useState","ls","setCharacters","filterName","setFilterName","filterSpecie","setFilterSpecie","useEffect","orderedData","sort","a","b","filteredCharacters","filter","toLowerCase","includes","exact","path","onSubmit","e","component","routerProps","matchId","match","params","characterId","foundCharacter","find","parseInt","undefined","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a6ae2b6.chunk.js","sourcesContent":["const getApiData = () => {\r\n  return fetch('https://rickandmortyapi.com/api/character')\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      return data.results.map((character) => {\r\n        return {\r\n          id: character.id,\r\n          name: character.name,\r\n          image: character.image,\r\n          specie: character.species,\r\n          status: character.status,\r\n          location: character.location.name,\r\n          episodes: character.episode.length,\r\n        };\r\n      });\r\n    });\r\n};\r\n\r\nexport default getApiData;\r\n","const get = (key, defaultData) => {\r\n  const data = JSON.parse(localStorage.getItem(key));\r\n  return data === null ? defaultData : data;\r\n};\r\n\r\nconst set = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n\r\nconst localObject = {\r\n  get: get,\r\n  set: set,\r\n};\r\nexport default localObject;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CharacterCard = (props) => {\r\n  return (\r\n    <>\r\n      <Link to={`/character/${props.character.id}`}>\r\n        <img\r\n          className='list_item--img'\r\n          src={props.character.image}\r\n          alt={props.character.name}\r\n        />\r\n        <h2 className='list_item--name'>{props.character.name}</h2>\r\n        <p className='list_item--specie'>{props.character.specie}</p>\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CharacterCard;\r\n","import React from 'react';\r\nimport CharacterCard from './CharacterCard';\r\n\r\nconst CharacterList = (props) => {\r\n  const renderCharacters = props.characters.map((character) => {\r\n    return (\r\n      <li key={character.id} className='list_item'>\r\n        <CharacterCard character={character} />\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return <ul className='list'>{renderCharacters}</ul>;\r\n};\r\n\r\nexport default CharacterList;\r\n","import React from 'react';\r\n\r\nconst NameFilter = (props) => {\r\n  const handleChange = (ev) => {\r\n    ev.preventDefault();\r\n    props.handleFilter({\r\n      value: ev.target.value,\r\n      key: 'name',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <label className='form_label' htmlFor='name'>\r\n        Busca un personaje:\r\n      </label>\r\n      <input\r\n        className='form_input'\r\n        type='text'\r\n        name='name'\r\n        id='name'\r\n        placeholder='Rick...'\r\n        value={props.value}\r\n        onChange={handleChange}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NameFilter;\r\n","import React from 'react';\r\n\r\nconst SpecieFilter = (props) => {\r\n  const handleChange = (ev) => {\r\n    ev.preventDefault();\r\n    props.handleFilter({\r\n      value: ev.target.value,\r\n      key: 'specie',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <select\r\n        className='form_input'\r\n        type='text'\r\n        name='name'\r\n        id='name'\r\n        placeholder='Rick...'\r\n        value={props.value}\r\n        onChange={handleChange}\r\n      >\r\n        <option value=''>Selecciona una especie</option>\r\n        <option value='Human'>Humano</option>\r\n        <option value='Alien'>Alien</option>\r\n      </select>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SpecieFilter;\r\n","import React from 'react';\r\n\r\nconst CharacterDetail = (props) => {\r\n  let status;\r\n  if (props.character.status === 'Alive') {\r\n    status = <i className='fas fa-hand-spock detail_data--icon'></i>;\r\n  } else if (props.character.status === 'unknown') {\r\n    status = <i className='fas fa-question detail_data--icon'></i>;\r\n  } else {\r\n    status = <i className='fas fa-skull-crossbones detail_data--icon'></i>;\r\n  }\r\n\r\n  let specie;\r\n  if (props.character.specie === 'Alien') {\r\n    specie = <i className='fab fa-reddit-alien detail_data--icon'></i>;\r\n  } else {\r\n    specie = <i className='fas fa-male detail_data--icon'></i>;\r\n  }\r\n  return (\r\n    <div className='detail_main'>\r\n      <div className='detail'>\r\n        <img\r\n          className='detail_img'\r\n          src={props.character.image}\r\n          alt={props.character.name}\r\n          title={props.character.name}\r\n        />\r\n        <div className='detail_data'>\r\n          <h1 className='detail_data--name'>{props.character.name}</h1>\r\n          <p>\r\n            <strong>Especie:</strong> {specie}\r\n          </p>\r\n          <p>\r\n            <strong>Planeta:</strong> {props.character.location}\r\n          </p>\r\n          <p>\r\n            <strong>Episodios:</strong> {props.character.episodes}\r\n          </p>\r\n          <p>\r\n            <strong>Estado:</strong> {status}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CharacterDetail;\r\n","import React from 'react';\r\n\r\nconst Warning = (props) => {\r\n  return (\r\n    <div className='warning'>\r\n      <h3 className='warning_text'>\r\n        No hay ningún personaje que coincida con la búsqueda\r\n      </h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Warning;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport '../styles/App.scss';\r\nimport getApiData from '../services/api';\r\nimport ls from '../services/storage';\r\nimport CharacterList from './CharacterList';\r\nimport NameFilter from './NameFilter';\r\nimport SpecieFilter from './SpecieFilter';\r\nimport CharacterDetail from './CharacterDetail';\r\nimport Warning from './Warning';\r\n\r\nfunction App() {\r\n  const [characters, setCharacters] = useState(ls.get('characters', []));\r\n  const [filterName, setFilterName] = useState('');\r\n  const [filterSpecie, setFilterSpecie] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (characters.length === 0) {\r\n      getApiData().then((data) => {\r\n        const orderedData = data.sort((a, b) =>\r\n          a.name > b.name ? 1 : a.name < b.name ? -1 : 0\r\n        );\r\n        setCharacters(orderedData);\r\n      });\r\n    }\r\n  }, [characters.length]);\r\n\r\n  useEffect(() => {\r\n    ls.set('characters', characters);\r\n  }, [characters]);\r\n\r\n  const handleFilter = (data) => {\r\n    if (data.key === 'name') {\r\n      setFilterName(data.value);\r\n      ls.set('filterName', data.value);\r\n    } else {\r\n      setFilterSpecie(data.value);\r\n      ls.set('filterSpecie', data.value);\r\n    }\r\n  };\r\n\r\n  const filteredCharacters = characters\r\n    .filter((character) => {\r\n      return character.name.toLowerCase().includes(filterName.toLowerCase());\r\n    })\r\n    .filter((character) => {\r\n      if (filterSpecie === '') {\r\n        //la función devuelve true cuando el elemento pasa el criterio de filtrado\r\n        return true;\r\n      } else {\r\n        return character.specie === filterSpecie;\r\n      }\r\n    });\r\n\r\n  const renderCharacterDetail = (routerProps) => {\r\n    const matchId = routerProps.match.params.characterId;\r\n    const foundCharacter = characters.find(\r\n      (character) => character.id === parseInt(matchId)\r\n    );\r\n    if (foundCharacter !== undefined) {\r\n      return <CharacterDetail character={foundCharacter} />;\r\n    } else {\r\n      return <Warning />;\r\n    }\r\n  };\r\n\r\n  const renderListOrWarning = () => {\r\n    if (filteredCharacters.length !== 0) {\r\n      return <CharacterList characters={filteredCharacters} />;\r\n    } else {\r\n      return <Warning />;\r\n    }\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className='main'>\r\n      <Switch>\r\n        <Route exact path='/'>\r\n          <h1 className='main_title'>Rick and Morty</h1>\r\n          <form onSubmit={submitHandler} className='form'>\r\n            <NameFilter handleFilter={handleFilter} value={filterName} />\r\n            <SpecieFilter handleFilter={handleFilter} />\r\n          </form>\r\n          {renderListOrWarning()}\r\n        </Route>\r\n        <Route\r\n          path='/character/:characterId'\r\n          component={renderCharacterDetail}\r\n        />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}